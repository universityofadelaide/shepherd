services:
  plugin.manager.orchestration_provider:
    class: Drupal\shp_orchestration\OrchestrationProviderPluginManager
    parent: default_plugin_manager
  shp_orchestration.configuration:
    class: Drupal\shp_orchestration\Service\Configuration
    arguments: ['@module_handler']
  shp_orchestration.job_queue:
    class: Drupal\shp_orchestration\Service\JobQueue
    arguments: ['@queue', '@plugin.manager.queue_worker', '@shp_orchestration.active_job_manager']
  shp_orchestration.active_job_manager:
    class: Drupal\shp_orchestration\Service\ActiveJobManager
    arguments: ['@state']
  shp_orchestration.distribution:
    class: Drupal\shp_orchestration\Service\Distribution
    arguments: ['@plugin.manager.orchestration_provider']
  shp_orchestration.environment:
    class: Drupal\shp_orchestration\Service\Environment
    arguments: ['@plugin.manager.orchestration_provider', '@shp_orchestration.configuration']
